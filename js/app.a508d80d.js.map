{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/common/locales.json?85a9","webpack:///./src/common/locales.json?328a","webpack:///./src/common/locales.json?c89d","webpack:///./src/App.vue?02f9","webpack:///./src/common/locales.json?6619","webpack:///./src/common/locales.json?d183","webpack:///./src/common/locales.json?133c","webpack:///./src/common/locales.json","webpack:///./src/filters/ImageProcessor.ts","webpack:///./src/App.vue?2e6b","webpack:///./src/components/PreviewCanvas.vue?603b","webpack:///./src/filters/FilterFactory.ts","webpack:///./src/filters/FilterProcessor.ts","webpack:///./src/components/PreviewCanvas.vue","webpack:///./src/components/PreviewCanvas.vue?ad4c","webpack:///./src/components/PreviewCanvas.vue?d5b2","webpack:///./src/components/AppendFile.vue?fcd2","webpack:///./src/components/AppendFile.vue","webpack:///./src/components/AppendFile.vue?aaa7","webpack:///./src/components/AppendFile.vue?b218","webpack:///./src/components/FilterList.vue?5ca3","webpack:///./src/components/FilterList.vue","webpack:///./src/components/FilterList.vue?2dd8","webpack:///./src/components/FilterList.vue?eff4","webpack:///./src/components/Download.vue?4c66","webpack:///./src/components/Download.vue","webpack:///./src/components/Download.vue?3a80","webpack:///./src/components/Download.vue?02b8","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/filters/OverlayFilter.ts","webpack:///./src/filters/AbstractFilter.ts","webpack:///./src/filters/ContrastFilter.ts","webpack:///./src/filters/ResizeFilter.ts","webpack:///./src/filters/GrayscaleFilter.ts","webpack:///./src/filters/OpacityFilter.ts","webpack:///./src/filters/SaturateFilter.ts","webpack:///./src/filters/BlurFilter.ts","webpack:///./src/utils/FileToCanvas.ts","webpack:///./src/filters/CropFilter.ts","webpack:///./src/filters/index.ts","webpack:///./src/components/ResizeFilter.vue?36b2","webpack:///./src/utils/SequenceId.ts","webpack:///./src/components/ResizeFilter.vue","webpack:///./src/components/ResizeFilter.vue?764d","webpack:///./src/components/ResizeFilter.vue?3c7b","webpack:///./src/components/ContrastFilter.vue?3cfa","webpack:///./src/components/ContrastFilter.vue","webpack:///./src/components/ContrastFilter.vue?d95e","webpack:///./src/components/ContrastFilter.vue?9f79","webpack:///./src/components/GrayscaleFilter.vue?0c42","webpack:///./src/components/GrayscaleFilter.vue","webpack:///./src/components/GrayscaleFilter.vue?da04","webpack:///./src/components/GrayscaleFilter.vue?64a6","webpack:///./src/components/OpacityFilter.vue?bb7d","webpack:///./src/components/OpacityFilter.vue","webpack:///./src/components/OpacityFilter.vue?e474","webpack:///./src/components/OpacityFilter.vue?3826","webpack:///./src/components/SaturateFilter.vue?df5e","webpack:///./src/components/SaturateFilter.vue","webpack:///./src/components/SaturateFilter.vue?4124","webpack:///./src/components/SaturateFilter.vue?1a7d","webpack:///./src/components/BlurFilter.vue?b064","webpack:///./src/components/BlurFilter.vue","webpack:///./src/components/BlurFilter.vue?5f2f","webpack:///./src/components/BlurFilter.vue?6f21","webpack:///./src/components/OverlayFilter.vue?eac5","webpack:///./src/components/OverlayFilter.vue","webpack:///./src/components/OverlayFilter.vue?932e","webpack:///./src/components/OverlayFilter.vue?8632","webpack:///./src/components/CropFilter.vue?4e49","webpack:///./src/components/CropFilter.vue","webpack:///./src/components/CropFilter.vue?a749","webpack:///./src/components/CropFilter.vue?21a8","webpack:///./src/main.ts","webpack:///./src/common/locales.json?ca2f","webpack:///./src/common/locales.json?435e","webpack:///./src/common/locales.json?e7ad"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Component","options","__i18n","_Ctor","SupportExtensions","SupportMimesTypes","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","$t","_l","lang","on","$event","$store","commit","_s","staticRenderFns","staticStyle","scopedSlots","_u","fn","ref","ariaDescribedby","model","callback","$$v","selected","expression","showProcessIndicator","width","height","directives","rawName","sizeToMb","type","filterCollection","filter","filterName","find","findFilter","filterFactory","listProps","canvas","filterMaps","map","filterConstructor","getFilterFactory","Error","setPropertyMap","run","supportTypes","Map","jpg","gif","webp","png","svg","filterProcessor","quality","defaultType","nameTransformPattern","Number","file","url","URL","createObjectURL","img","Image","src","decode","OffscreenCanvas","canvasCtx","getContext","drawImage","revokeObjectURL","convertToCanvas","has","convertToBlob","undefined","blob","replacer","set","replace","fileName","replaceAll","RegExp","keys","join","match","fileExt","File","extend","updateTimeout","size","computed","show","state","showFileIndex","$data","toFixed","text","methods","updateCanvas","$refs","clearTimeout","setTimeout","fileList","dispatch","sourceBlob","sourceCanvas","clearRect","$nextTick","watch","handler","deep","component","stopPropagation","preventDefault","index","newFileList","forEach","reset","globalFileList","proxy","initFilter","charAt","toUpperCase","_b","tag","components","draggable","supportLangs","$i18n","messages","filters","selectedType","downloadAll","console","log","Array","from","method","$bvToast","toast","variant","previewCanvas","appendFile","filterList","download","supportPositions","assign","level","newCanvas","newCanvasCtx","x","y","deltaX","deltaY","newHeight","newWidth","FileToCanvas","supportModes","image","position","margin","TOP_LEFT","TOP_CENTER","TOP_RIGHT","MIDDLE_LEFT","MIDDLE_CENTER","MIDDLE_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","MOSAIC_FIT","countCols","Math","floor","countRows","spaceBetweenCols","spaceBetweenRows","i2","SIZES","canvasWidth","canvasHeight","deltaMin","min","newCanvasWidth","newCanvasHeight","cropBySize","oldCanvas","sL","dL","sC","max","dC","sR","dR","sT","dT","sM","dM","sB","dB","sW","sH","dW","dH","RATIO","cropByRatio","SUPPORT_FILTERS","updateWidth","updateHeight","prefix","currentKey","props","componentID","getNew","$emit","updateLevel","updateImage","updatePosition","updateMargin","entries","isNaN","updateMode","tttt","config","productionTip","use","DEFAULT_LANG","registerFilter","i18n","locale","navigator","language","substr","toLowerCase","initStore","imageProcessor","registeredFilters","getFilterCollection","getQuality","getType","getNameTransformPattern","mutations","setLang","removeFilter","setFilter","setFile","commitDeleteFile","commitSetType","commitSetQuality","commitSetNameTransformPattern","pattern","showFile","actions","setType","store","setQuality","setNameTransformPattern","getPropertyMap","runFilterProcessor","getters","deleteFile","runFilterProcessorForOne","setFilterMaps","Promise","all","saveAs","zip","generateAsync","zipFile","Date","now","Store","render","h","App","$mount"],"mappings":"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","file":"js/app.a508d80d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FDownload.vue\"; export default mod; export * from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FDownload.vue\"","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"hello\":\"Photo batch\",\"chooselang\":\"Choose lang\",\"helper.tooltip.draggable\":\"Drag to change the order of actions\",\"helper.tooltip.uploadfile.placeholder\":\"Choose a file or drop it here...\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Drop file here...\",\"helper.tooltip.uploadfile.description\":\"Press button or drop files here for upload. Scalable images will be rasterized\",\"button.addeventhandler\":\"Add filter\",\"button.event.download\":\"Download\",\"preview.button.viewselector.originalview\":\"Source image\",\"preview.button.viewselector.resultview\":\"Result image\",\"filter.contrast.name\":\"Contrast\",\"filter.resize.name\":\"Resize\",\"filter.convert.name\":\"Convert\",\"filter.grayscale.name\":\"Grayscale\",\"filter.opacity.name\":\"Opacity\",\"filter.saturate.name\":\"Saturate\",\"filter.blur.name\":\"Blur\",\"filter.overlay.name\":\"Overlay\",\"filter.crop.name\":\"Crop\",\"helper.tooltip.uploadfile.browsebutton\":\"Browse\"},\"ru\":{\"hello\":\"Фото обработчик\",\"chooselang\":\"Выбрать язык\",\"helper.tooltip.draggable\":\"Зажмите и перетаскивайте для изменения порядка действий\",\"helper.tooltip.uploadfile.placeholder\":\"Загрузить изображения\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Загрузить сюда...\",\"helper.tooltip.uploadfile.description\":\"Нажмите или перенесите изображения сюда для их загрузки. Векторные svg изображения будут растеризованы\",\"button.addeventhandler\":\"Добавить фильтр\",\"button.event.download\":\"Скачать результат\",\"preview.button.viewselector.originalview\":\"Исходное изображение\",\"preview.button.viewselector.resultview\":\"Конечное изображение\",\"filter.contrast.name\":\"Контраст\",\"filter.resize.name\":\"Размер\",\"filter.convert.name\":\"Формат\",\"filter.grayscale.name\":\"Обесцвечивание\",\"filter.opacity.name\":\"Прозрачность\",\"filter.saturate.name\":\"Насыщенность\",\"filter.blur.name\":\"Размытие\",\"filter.overlay.name\":\"Наложение\",\"filter.crop.name\":\"Кадрирование\",\"helper.tooltip.uploadfile.browsebutton\":\"Загрузка\"}}')\n  delete Component.options._Ctor\n}\n","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"hello\":\"Photo batch\",\"chooselang\":\"Choose lang\",\"helper.tooltip.draggable\":\"Drag to change the order of actions\",\"helper.tooltip.uploadfile.placeholder\":\"Choose a file or drop it here...\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Drop file here...\",\"helper.tooltip.uploadfile.description\":\"Press button or drop files here for upload. Scalable images will be rasterized\",\"button.addeventhandler\":\"Add filter\",\"button.event.download\":\"Download\",\"preview.button.viewselector.originalview\":\"Source image\",\"preview.button.viewselector.resultview\":\"Result image\",\"filter.contrast.name\":\"Contrast\",\"filter.resize.name\":\"Resize\",\"filter.convert.name\":\"Convert\",\"filter.grayscale.name\":\"Grayscale\",\"filter.opacity.name\":\"Opacity\",\"filter.saturate.name\":\"Saturate\",\"filter.blur.name\":\"Blur\",\"filter.overlay.name\":\"Overlay\",\"filter.crop.name\":\"Crop\",\"helper.tooltip.uploadfile.browsebutton\":\"Browse\"},\"ru\":{\"hello\":\"Фото обработчик\",\"chooselang\":\"Выбрать язык\",\"helper.tooltip.draggable\":\"Зажмите и перетаскивайте для изменения порядка действий\",\"helper.tooltip.uploadfile.placeholder\":\"Загрузить изображения\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Загрузить сюда...\",\"helper.tooltip.uploadfile.description\":\"Нажмите или перенесите изображения сюда для их загрузки. Векторные svg изображения будут растеризованы\",\"button.addeventhandler\":\"Добавить фильтр\",\"button.event.download\":\"Скачать результат\",\"preview.button.viewselector.originalview\":\"Исходное изображение\",\"preview.button.viewselector.resultview\":\"Конечное изображение\",\"filter.contrast.name\":\"Контраст\",\"filter.resize.name\":\"Размер\",\"filter.convert.name\":\"Формат\",\"filter.grayscale.name\":\"Обесцвечивание\",\"filter.opacity.name\":\"Прозрачность\",\"filter.saturate.name\":\"Насыщенность\",\"filter.blur.name\":\"Размытие\",\"filter.overlay.name\":\"Наложение\",\"filter.crop.name\":\"Кадрирование\",\"helper.tooltip.uploadfile.browsebutton\":\"Загрузка\"}}')\n  delete Component.options._Ctor\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=8f68d242&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2FApp.vue\"; export default mod; export * from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2FApp.vue\"","import mod from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FFilterList.vue\"; export default mod; export * from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FFilterList.vue\"","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"hello\":\"Photo batch\",\"chooselang\":\"Choose lang\",\"helper.tooltip.draggable\":\"Drag to change the order of actions\",\"helper.tooltip.uploadfile.placeholder\":\"Choose a file or drop it here...\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Drop file here...\",\"helper.tooltip.uploadfile.description\":\"Press button or drop files here for upload. Scalable images will be rasterized\",\"button.addeventhandler\":\"Add filter\",\"button.event.download\":\"Download\",\"preview.button.viewselector.originalview\":\"Source image\",\"preview.button.viewselector.resultview\":\"Result image\",\"filter.contrast.name\":\"Contrast\",\"filter.resize.name\":\"Resize\",\"filter.convert.name\":\"Convert\",\"filter.grayscale.name\":\"Grayscale\",\"filter.opacity.name\":\"Opacity\",\"filter.saturate.name\":\"Saturate\",\"filter.blur.name\":\"Blur\",\"filter.overlay.name\":\"Overlay\",\"filter.crop.name\":\"Crop\",\"helper.tooltip.uploadfile.browsebutton\":\"Browse\"},\"ru\":{\"hello\":\"Фото обработчик\",\"chooselang\":\"Выбрать язык\",\"helper.tooltip.draggable\":\"Зажмите и перетаскивайте для изменения порядка действий\",\"helper.tooltip.uploadfile.placeholder\":\"Загрузить изображения\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Загрузить сюда...\",\"helper.tooltip.uploadfile.description\":\"Нажмите или перенесите изображения сюда для их загрузки. Векторные svg изображения будут растеризованы\",\"button.addeventhandler\":\"Добавить фильтр\",\"button.event.download\":\"Скачать результат\",\"preview.button.viewselector.originalview\":\"Исходное изображение\",\"preview.button.viewselector.resultview\":\"Конечное изображение\",\"filter.contrast.name\":\"Контраст\",\"filter.resize.name\":\"Размер\",\"filter.convert.name\":\"Формат\",\"filter.grayscale.name\":\"Обесцвечивание\",\"filter.opacity.name\":\"Прозрачность\",\"filter.saturate.name\":\"Насыщенность\",\"filter.blur.name\":\"Размытие\",\"filter.overlay.name\":\"Наложение\",\"filter.crop.name\":\"Кадрирование\",\"helper.tooltip.uploadfile.browsebutton\":\"Загрузка\"}}')\n  delete Component.options._Ctor\n}\n","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"hello\":\"Photo batch\",\"chooselang\":\"Choose lang\",\"helper.tooltip.draggable\":\"Drag to change the order of actions\",\"helper.tooltip.uploadfile.placeholder\":\"Choose a file or drop it here...\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Drop file here...\",\"helper.tooltip.uploadfile.description\":\"Press button or drop files here for upload. Scalable images will be rasterized\",\"button.addeventhandler\":\"Add filter\",\"button.event.download\":\"Download\",\"preview.button.viewselector.originalview\":\"Source image\",\"preview.button.viewselector.resultview\":\"Result image\",\"filter.contrast.name\":\"Contrast\",\"filter.resize.name\":\"Resize\",\"filter.convert.name\":\"Convert\",\"filter.grayscale.name\":\"Grayscale\",\"filter.opacity.name\":\"Opacity\",\"filter.saturate.name\":\"Saturate\",\"filter.blur.name\":\"Blur\",\"filter.overlay.name\":\"Overlay\",\"filter.crop.name\":\"Crop\",\"helper.tooltip.uploadfile.browsebutton\":\"Browse\"},\"ru\":{\"hello\":\"Фото обработчик\",\"chooselang\":\"Выбрать язык\",\"helper.tooltip.draggable\":\"Зажмите и перетаскивайте для изменения порядка действий\",\"helper.tooltip.uploadfile.placeholder\":\"Загрузить изображения\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Загрузить сюда...\",\"helper.tooltip.uploadfile.description\":\"Нажмите или перенесите изображения сюда для их загрузки. Векторные svg изображения будут растеризованы\",\"button.addeventhandler\":\"Добавить фильтр\",\"button.event.download\":\"Скачать результат\",\"preview.button.viewselector.originalview\":\"Исходное изображение\",\"preview.button.viewselector.resultview\":\"Конечное изображение\",\"filter.contrast.name\":\"Контраст\",\"filter.resize.name\":\"Размер\",\"filter.convert.name\":\"Формат\",\"filter.grayscale.name\":\"Обесцвечивание\",\"filter.opacity.name\":\"Прозрачность\",\"filter.saturate.name\":\"Насыщенность\",\"filter.blur.name\":\"Размытие\",\"filter.overlay.name\":\"Наложение\",\"filter.crop.name\":\"Кадрирование\",\"helper.tooltip.uploadfile.browsebutton\":\"Загрузка\"}}')\n  delete Component.options._Ctor\n}\n","import {FilterMap} from './FilterInterface';\nimport FilterProcessor from './FilterProcessor';\n\nexport enum SupportExtensions {\n  jpg = 'jpg',\n  gif = 'gif',\n  webp = 'webp',\n  png = 'png',\n  svg = 'svg',\n}\n\nexport enum SupportMimesTypes {\n  jpg = 'image/jpeg',\n  gif = 'image/gif',\n  webp = 'image/webp',\n  png = 'image/png',\n  svg = 'image/svg+xml',\n}\n\nexport const supportTypes = new Map<SupportMimesTypes, SupportExtensions>([\n  [SupportMimesTypes.jpg, SupportExtensions.jpg],\n  [SupportMimesTypes.gif, SupportExtensions.gif],\n  [SupportMimesTypes.webp, SupportExtensions.webp],\n  [SupportMimesTypes.png, SupportExtensions.png],\n  [SupportMimesTypes.svg, SupportExtensions.svg],\n]);\n\nconst defaultType = SupportMimesTypes.png;\n\nexport default class ImageProcessor {\n  readonly filterProcessor: FilterProcessor;\n  protected quality = 100;\n  protected type: SupportMimesTypes | null = null;\n  protected defaultType: SupportMimesTypes = SupportMimesTypes.png;\n  protected nameTransformPattern = '@file';\n  protected filterMaps: Array<FilterMap> = [];\n\n  constructor(filterProcessor: FilterProcessor) {\n    this.filterProcessor = filterProcessor;\n  }\n\n  setQuality(value: number) {\n    this.quality = Number(value);\n  }\n\n  getQuality() {\n    return this.quality;\n  }\n\n  setType(value: SupportMimesTypes | null) {\n    this.type = value;\n  }\n\n  getType(): SupportMimesTypes | null {\n    return this.type;\n  }\n\n  setNameTransformPattern(value: string) {\n    this.nameTransformPattern = value;\n  }\n\n  getNameTransformPattern(): string {\n    return this.nameTransformPattern;\n  }\n\n  setFilterMaps(filterMaps: Array<FilterMap>) {\n    this.filterMaps = filterMaps;\n  }\n\n  async convertToCanvas(file: File): Promise<OffscreenCanvas> {\n    const url = window.URL.createObjectURL(file);\n    const img = new Image();\n    img.src = url;\n    await img.decode();\n    const width = img.width;\n    const height = img.height;\n    const canvas = new OffscreenCanvas(width, height);\n\n    /*BUG -- getContext can return NULL; */\n    const canvasCtx = canvas.getContext('2d');\n    if (canvasCtx === null) throw new Error('unable to create canvas context');\n    canvasCtx.drawImage(img, 0, 0);\n    window.URL.revokeObjectURL(url);\n\n    return canvas;\n  }\n\n  async run(file: File): Promise<File> {\n    const canvas = await this.filterProcessor.run(\n      await this.convertToCanvas(file),\n      this.filterMaps\n    );\n\n    let type: SupportMimesTypes | null = this.type;\n    if (!type) type = file.type as SupportMimesTypes;\n    if (type === SupportMimesTypes.svg) type = this.defaultType;\n    if (!type) type = this.defaultType;\n    if (!supportTypes.has(type)) throw new Error('set unsupported image type');\n    const blob = await canvas.convertToBlob({\n      type: type ?? undefined,\n      quality: this.quality / 100,\n    });\n    const replacer = new Map();\n    replacer.set('@file', () => file.name.replace(/\\.[^.]+$/, ''));\n    const fileName = this.nameTransformPattern.replaceAll(\n      new RegExp([...replacer.keys()].join('|'), 'gi'),\n      match => {\n        return replacer.get(match)();\n      }\n    );\n    const fileExt = supportTypes.get(type) as string;\n    return new File([blob], `${fileName}.${fileExt}`, {\n      type: type ?? undefined,\n    });\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('b-container',{staticClass:\"vh-100 p-0 d-flex flex-column\",attrs:{\"fluid\":\"\"}},[_c('b-row',{attrs:{\"no-gutters\":\"\"}},[_c('b-col',[_c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"type\":\"dark\",\"variant\":\"dark\"}},[_c('b-navbar-brand',{attrs:{\"href\":\"#\"}},[_vm._v(\"Пакетный обработчик изображений (версия 0.0.1 - alpha)\")]),_c('b-navbar-toggle',{attrs:{\"target\":\"nav-collapse\"}}),_c('b-collapse',{attrs:{\"id\":\"nav-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item-dropdown',{attrs:{\"text\":_vm.$t('chooselang'),\"right\":\"\"}},_vm._l((_vm.supportLangs),function(lang){return _c('b-dropdown-item',{key:lang,staticClass:\"text-uppercase\",on:{\"click\":function($event){return _vm.$store.commit('setLang', lang)}}},[_vm._v(_vm._s(lang))])}),1)],1)],1)],1)],1)],1),_c('b-row',{staticClass:\"flex-grow-1 overflow-hidden\",attrs:{\"align-v\":\"stretch\",\"no-gutters\":\"\"}},[_c('b-col',{staticClass:\"mh-100 p-1\",attrs:{\"md\":\"3\"}},[_c('append-file')],1),_c('b-col',{staticClass:\"mh-100 p-1\",attrs:{\"md\":\"6\"}},[_c('preview-canvas')],1),_c('b-col',{staticClass:\"mh-100 p-1\",attrs:{\"md\":\"3\"}},[_c('filter-list')],1)],1),_c('b-row',{attrs:{\"align-v\":\"stretch\",\"no-gutters\":\"\"}},[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('download')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"h-100 text-center\",attrs:{\"bg-variant\":\"transparent\",\"border-variant\":\"dark\",\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex flex-row align-items-center justify-content-center p-1\",staticStyle:{\"min-height\":\"3rem\"},attrs:{\"header-bg-variant\":\"dark\",\"header-text-variant\":\"white\"}},[_c('h5',{staticClass:\"my-0 mx-4\"},[_vm._v(\"Предпросмотр\")]),_c('b-form-group',{staticClass:\"d-inline-flex m-0 mx-4\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-radio-group',{attrs:{\"id\":\"btn-radios-1\",\"options\":_vm.options,\"aria-describedby\":ariaDescribedby,\"name\":\"radios-btn-default\",\"size\":\"sm\",\"buttons\":\"\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})]}}])})],1),_c('b-card-body',{staticClass:\"h-100\"},[_c('div',{staticClass:\"h-100 d-flex flex-column border border-left border-right\"},[_c('b-overlay',{staticClass:\"d-flex flex-grow-1 align-items-center justify-content-center overflow-auto p-1\",attrs:{\"show\":_vm.showProcessIndicator}},[_c('canvas',{ref:\"canvas\",staticClass:\"mw-100 mh-100\",attrs:{\"id\":\"canvas\",\"width\":_vm.width,\"height\":_vm.height}})])],1)]),_c('b-card-footer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"text\",attrs:{\"footer-bg-variant\":\"dark\",\"footer-text-variant\":\"white\"}},[_c('p',{staticClass:\"text-nowrap\"},[_c('b-badge',{staticClass:\"d-inline-flex text-truncate mw-100\"},[_vm._v(_vm._s(_vm.name))])],1),_c('p',[_c('span',{staticClass:\"m-3\"},[_vm._v(\"Размер \"),_c('b-badge',[_vm._v(_vm._s(_vm.width)+\"x\"+_vm._s(_vm.height))])],1),_c('span',{staticClass:\"m-3\"},[_vm._v(\"Вес \"),_c('b-badge',[_vm._v(_vm._s(_vm.sizeToMb)+\" МБ\")])],1),_c('span',{staticClass:\"m-3\"},[_vm._v(\"Тип \"),_c('b-badge',[_vm._v(_vm._s(_vm.type))])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import FilterInterface from './FilterInterface';\n\ntype FilterConstructor = {\n  new (): FilterInterface;\n};\n\nexport default class FilterFactory {\n  protected filterCollection: Array<FilterConstructor> = [];\n\n  registerFilter(filter: FilterConstructor): void {\n    this.filterCollection.push(filter);\n  }\n\n  findFilter(filterName: string): FilterConstructor | null {\n    return (\n      this.filterCollection.find(\n        (filter: FilterConstructor) => filterName === new filter().name\n      ) ?? null\n    );\n  }\n\n  getFilterCollection(): Array<FilterConstructor> {\n    return this.filterCollection;\n  }\n\n  createInstance(filterName: string): FilterInterface | null {\n    const filter = this.findFilter(filterName);\n    return filter ? new filter() : null;\n  }\n}\n","import FilterFactory from './FilterFactory';\nimport FilterInterface, {FilterMap} from './FilterInterface';\n\nexport default class FilterProcessor {\n  listProps: Array<FilterInterface> = [];\n  protected filterFactory: FilterFactory;\n\n  constructor(filterFactory?: FilterFactory) {\n    this.filterFactory = !filterFactory ? new FilterFactory() : filterFactory;\n  }\n\n  getFilterFactory(): FilterFactory {\n    return this.filterFactory;\n  }\n\n  async run(\n    canvas: OffscreenCanvas,\n    filterMaps: Array<FilterMap>\n  ): Promise<OffscreenCanvas> {\n    for (const map of filterMaps) {\n      const filterConstructor = this.getFilterFactory().findFilter(map.name);\n      if (!filterConstructor) throw new Error('filter not found');\n      const filter = new filterConstructor();\n      filter.setPropertyMap(map);\n      canvas = await filter.run(canvas);\n    }\n    return canvas;\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport FilterProcessor from '@/filters/FilterProcessor';\nimport ImageProcessor from '@/filters/ImageProcessor';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  data() {\n    return {\n      selected: 'result-preview' as string,\n      width: 0 as number,\n      height: 0 as number,\n      updateTimeout: 0 as any,\n      showProcessIndicator: false as boolean,\n      size: 0 as number,\n      type: '' as string,\n      name: '' as string,\n    };\n  },\n  computed: {\n    show: function() {\n      return this.$store.state.showFileIndex !== null;\n    },\n    sizeToMb: function() {\n      return (this.$data.size / 1000 ** 2).toFixed(3);\n    },\n    options: function() {\n      return [\n        {\n          value: 'original-preview',\n          text: this.$t('preview.button.viewselector.originalview'),\n        },\n        {\n          value: 'result-preview',\n          text: this.$t('preview.button.viewselector.resultview'),\n        },\n      ];\n    },\n  },\n  methods: {\n    updateCanvas: function() {\n      const canvas = this.$refs.canvas as HTMLCanvasElement;\n      if (this.$store.state.showFileIndex === null) {\n        canvas.getContext('2d')?.clearRect(0, 0, canvas.width, canvas.height);\n        return;\n      }\n      this.showProcessIndicator = true;\n      window.clearTimeout(this.updateTimeout);\n      this.updateTimeout = window.setTimeout(async () => {\n        const sourceBlob =\n          this.selected === 'original-preview'\n            ? this.$store.state.fileList[this.$store.state.showFileIndex]\n            : await this.$store.dispatch(\n                'runFilterProcessorForOne',\n                this.$store.state.showFileIndex\n              );\n\n        const sourceCanvas = await new ImageProcessor(\n          new FilterProcessor()\n        ).convertToCanvas(sourceBlob);\n        canvas.getContext('2d')?.clearRect(0, 0, canvas.width, canvas.height);\n        this.width = sourceCanvas.width;\n        this.height = sourceCanvas.height;\n        this.size = sourceBlob.size;\n        this.type = sourceBlob.type;\n        this.name = sourceBlob.name;\n        this.$nextTick(() =>\n          canvas.getContext('2d')?.drawImage(sourceCanvas, 0, 0)\n        );\n        this.showProcessIndicator = false;\n      }, 200);\n    },\n  },\n  watch: {\n    '$store.state.filterMaps': {\n      handler: async function() {\n        await this.updateCanvas();\n      },\n      deep: true,\n    },\n    '$store.state.showFileIndex': async function() {\n      await this.updateCanvas();\n    },\n    '$store.state.type': async function() {\n      await this.updateCanvas();\n    },\n    '$store.state.quality': async function() {\n      await this.updateCanvas();\n    },\n    '$store.state.nameTransformPattern': async function() {\n      await this.updateCanvas();\n    },\n    selected: async function() {\n      await this.updateCanvas();\n    },\n  },\n  //updated: function() {\n  //  this.updateCanvas();\n  // }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewCanvas.vue?vue&type=template&id=05fec594&\"\nimport script from \"./PreviewCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewCanvas.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"../common/locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FPreviewCanvas.vue\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"h-100 text-center\",attrs:{\"border-variant\":\"dark\",\"body-bg-variant\":\"light\",\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex flex-row align-items-center justify-content-center p-1\",staticStyle:{\"min-height\":\"3rem\"},attrs:{\"header-text-variant\":\"white\",\"header-bg-variant\":\"dark\"}},[_c('h5',{staticClass:\"my-0 mx-4\"},[_vm._v(\"Файлы\")]),_c('label',{staticClass:\"d-inline-flex my-0 mx-4 justify-content-center btn btn-secondary\",attrs:{\"role\":\"button\"}},[_c('b-icon',{attrs:{\"icon\":\"upload\"}}),_c('b-form-file',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\"}],ref:\"form-file\",staticClass:\"text-left invisible\",staticStyle:{\"width\":\"0\",\"height\":\"0\",\"transform\":\"scale(0.05)\"},attrs:{\"placeholder\":_vm.$t('helper.tooltip.uploadfile.placeholder'),\"drop-placeholder\":_vm.$t('helper.tooltip.uploadfile.dropplaceholder'),\"accept\":\"image/*\",\"multiple\":\"\",\"title\":_vm.$t('helper.tooltip.uploadfile.description'),\"browse-text\":_vm.$t('helper.tooltip.uploadfile.browsebutton')},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})],1)]),_c('b-card-body',[_c('b-form',{staticClass:\"mh-100 d-flex flex-column\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-list-group',{staticClass:\"overflow-auto\"},_vm._l((_vm.globalFileList),function(file,index){return _c('b-list-group-item',{key:index,staticClass:\"d-flex justify-content-between align-items-center p-1\",attrs:{\"active\":_vm.$store.state.showFileIndex === index},on:{\"click\":function($event){return _vm.$store.commit('showFile', index)}}},[_vm._v(_vm._s(index + 1)+\" - \"+_vm._s(file.name)+\" \"),_c('b-button',{staticClass:\"close\",attrs:{\"aria-label\":\"Close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$store.dispatch('deleteFile', index)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  data() {\n    return {\n      fileList: [] as Array<File>,\n    };\n  },\n  watch: {\n    fileList: function(newFileList: Array<File>) {\n      newFileList.forEach((file: File) => this.$store.commit('setFile', file));\n      (this.$refs['form-file'] as any).reset();\n    },\n  },\n  computed: {\n    globalFileList: function() {\n      return this.$store.state.fileList;\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppendFile.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppendFile.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppendFile.vue?vue&type=template&id=42ac88a8&\"\nimport script from \"./AppendFile.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppendFile.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"../common/locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FAppendFile.vue\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"h-100 text-center\",attrs:{\"border-variant\":\"dark\",\"body-bg-variant\":\"light\",\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-flex flex-row align-items-center justify-content-center p-1\",staticStyle:{\"min-height\":\"3rem\"},attrs:{\"header-bg-variant\":\"dark\",\"header-text-variant\":\"white\"}},[_c('h5',{staticClass:\"my-0 mx-4\"},[_vm._v(\"Фильтры\")]),_c('b-dropdown',{staticClass:\"d-inline-flex mx-4\",attrs:{\"block\":\"\",\"text\":_vm.$t('button.addeventhandler'),\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"plus-circle\"}})]},proxy:true}])},_vm._l((_vm.registeredFilters),function(filter){return _c('b-dropdown-item',{key:filter,on:{\"click\":function($event){return _vm.initFilter(filter)}}},[_vm._v(_vm._s(_vm.$t((\"filter.\" + filter + \".name\"))))])}),1)],1),_c('b-card-body',{staticClass:\"p-1\"},[_c('div',{staticClass:\"d-flex flex-column mh-100\"},[_c('draggable',{staticClass:\"list-group overflow-auto\",attrs:{\"tag\":\"div\",\"list\":_vm.filterMaps,\"handle\":\".handle\"}},_vm._l((_vm.filterMaps),function(filter,index){return _c('b-card',{key:index,staticClass:\"mb-1\",attrs:{\"no-body\":\"\",\"border-variant\":\"secondary\"}},[_c('b-card-header',{staticClass:\"handle py-1\",staticStyle:{\"cursor\":\"move\"},attrs:{\"header-tag\":\"header\",\"header-bg-variant\":\"secondary\",\"header-text-variant\":\"white\",\"title\":_vm.$t('helper.tooltip.draggable')}},[_c('b-row',{staticClass:\"flex-nowrap\",attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\"}],staticClass:\"m-1 p-1\",attrs:{\"size\":\"sm\",\"title\":_vm.$t('helper.tooltip.draggable')}},[_vm._v(_vm._s(index + 1)+\". \")])],1),_c('b-col',{attrs:{\"cols\":\"6\"}},[_vm._v(_vm._s(_vm.$t((\"filter.\" + (filter.name) + \".name\"))))]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-button',{staticClass:\"close\",attrs:{\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.$store.commit('removeFilter', index)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])],1)],1)],1),_c('b-card-body',[_c(filter.name.charAt(0).toUpperCase() +\n                  filter.name.slice(1) +\n                  'Filter',_vm._b({tag:\"component\"},'component',_vm.filterMaps[index],false,true))],1)],1)}),1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {mapState, mapActions} from 'vuex';\nimport draggable from 'vuedraggable';\n\nexport default Vue.extend({\n  components: {\n    draggable,\n  },\n  methods: {\n    ...mapActions(['initFilter']),\n  },\n  computed: {\n    ...mapState(['registeredFilters']),\n    filterMaps: {\n      get() {\n        return this.$store.state.filterMaps;\n      },\n      set() {\n        this.$store.dispatch('setFilter');\n      },\n    },\n    supportLangs() {\n      return Object.keys(this.$i18n.messages);\n    },\n  },\n  data: function() {\n    return {\n      filters: [],\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterList.vue?vue&type=template&id=59ca617a&\"\nimport script from \"./FilterList.vue?vue&type=script&lang=ts&\"\nexport * from \"./FilterList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"../common/locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FFilterList.vue\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"h-100 text-center rounded-0 p-1\",attrs:{\"bg-variant\":\"dark\",\"text-variant\":\"white\",\"border-variant\":\"dark\",\"no-body\":\"\"}},[_c('b-form',{staticClass:\"mh-100 d-flex flex-row align-content-center justify-content-center align-items-center\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-input-group',{staticClass:\"mx-4\",attrs:{\"size\":\"sm\",\"prepend\":\"Тип\"}},[_c('b-form-select',{staticClass:\"text-nowrap\",attrs:{\"options\":_vm.supportTypes},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}})],1),_c('b-input-group',{staticClass:\"mx-4\",attrs:{\"size\":\"sm\",\"prepend\":\"Качество\"}},[_c('b-form-input',{attrs:{\"id\":\"range-2\",\"type\":\"number\",\"min\":\"1\",\"max\":\"100\",\"step\":\"1\"},model:{value:(_vm.quality),callback:function ($$v) {_vm.quality=$$v},expression:\"quality\"}})],1),_c('b-input-group',{staticClass:\"mx-4\",attrs:{\"size\":\"sm\",\"prepend\":\"Шаблон имени\"}},[_c('b-form-input',{attrs:{\"id\":\"input-live\",\"placeholder\":\"Enter your pattern\",\"trim\":\"\"},model:{value:(_vm.nameTransformPattern),callback:function ($$v) {_vm.nameTransformPattern=$$v},expression:\"nameTransformPattern\"}})],1),_c('b-dropdown',{staticClass:\"mx-4\",attrs:{\"block\":\"\",\"text\":_vm.$t('button.event.download')}},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.downloadAll()}}},[_vm._v(\"Скачать все файлы\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.downloadAll('zip')}}},[_vm._v(\"Скачать как ZIP\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {supportTypes} from '../filters/ImageProcessor';\n\nexport default Vue.extend({\n  data() {\n    console.log(this);\n    return {\n      supportTypes: [\n        {value: null, text: 'auto'},\n        ...Array.from(supportTypes, type => {\n          return {value: type[0], text: type[1] as string};\n        }),\n      ],\n    };\n  },\n  computed: {\n    selectedType: {\n      get() {\n        return this.$store.state.type;\n      },\n      set(value) {\n        this.$store.dispatch('setType', value);\n      },\n    },\n    quality: {\n      get() {\n        return this.$store.state.quality;\n      },\n      set(value) {\n        this.$store.dispatch('setQuality', value);\n      },\n    },\n    nameTransformPattern: {\n      get() {\n        return this.$store.state.nameTransformPattern;\n      },\n      set(value) {\n        this.$store.dispatch('setNameTransformPattern', value);\n      },\n    },\n  },\n  methods: {\n    downloadAll: async function(method: string = 'common') {\n      this.$bvToast.toast(\n        'Создаем ZIP архив... Это может занять некоторое время.',\n        {variant: 'info'}\n      );\n      try {\n        await this.$store.dispatch('downloadAll', method);\n        this.$bvToast.toast('Архив изображений готов !', {variant: 'success'});\n      } catch (error) {\n        console.log(error);\n        this.$bvToast.toast(\n          'К сожалению при сохранении произошла ошибка. Попробуйте другой способ сохранения файлов',\n          {variant: 'danger'}\n        );\n      }\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Download.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Download.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Download.vue?vue&type=template&id=7acd1d20&\"\nimport script from \"./Download.vue?vue&type=script&lang=ts&\"\nexport * from \"./Download.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"../common/locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FDownload.vue\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport previewCanvas from './components/PreviewCanvas.vue';\nimport appendFile from './components/AppendFile.vue';\nimport filterList from './components/FilterList.vue';\nimport download from './components/Download.vue';\n\nexport default Vue.extend({\n  name: 'App',\n  components: {\n    previewCanvas,\n    appendFile,\n    filterList,\n    download,\n  },\n  computed: {\n    supportLangs() {\n      return Object.keys(this.$i18n.messages);\n    },\n  },\n  data: function() {\n    return {};\n  },\n});\n\n/*\nimport { Component, Vue } from 'vue-property-decorator';\nimport HelloWorld from './components/HelloWorld.vue';\n\n@Component({\n  components: {\n    HelloWorld,\n  },\n})\nexport default class App extends Vue {}\n*/\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=8f68d242&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=8f68d242&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f68d242\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./common/locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2FApp.vue\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","import FileToCanvas from '../utils/FileToCanvas';\nimport AbstractFilter from './AbstractFilter';\n\nexport enum supportPositions {\n  TOP_LEFT,\n  TOP_CENTER,\n  TOP_RIGHT,\n  MIDDLE_LEFT,\n  MIDDLE_CENTER,\n  MIDDLE_RIGHT,\n  BOTTOM_LEFT,\n  BOTTOM_CENTER,\n  BOTTOM_RIGHT,\n  MOSAIC_FIT,\n}\n\nexport default class OverlayFilter extends AbstractFilter {\n  readonly name: string = 'overlay';\n  image?: File = undefined;\n  position = 0; // Позиционирование\n  margin = 0; //Отступ\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    if (!this.image) return canvas;\n\n    const canvasCtx = canvas.getContext('2d');\n    if (canvasCtx === null) throw new Error('unable to create canvas context');\n    const image = await FileToCanvas(this.image);\n    //const margin = parseInt(this.margin);\n    const margin = this.margin;\n    switch (this.position) {\n      case supportPositions.TOP_LEFT:\n        canvasCtx.drawImage(image, margin, margin);\n        break;\n      case supportPositions.TOP_CENTER:\n        canvasCtx.drawImage(image, (canvas.width - image.width) / 2, margin);\n        break;\n      case supportPositions.TOP_RIGHT:\n        canvasCtx.drawImage(image, canvas.width - image.width - margin, margin);\n        break;\n      case supportPositions.MIDDLE_LEFT:\n        canvasCtx.drawImage(image, margin, (canvas.height - image.height) / 2);\n        break;\n      case supportPositions.MIDDLE_CENTER:\n        canvasCtx.drawImage(\n          image,\n          (canvas.width - image.width) / 2,\n          (canvas.height - image.height) / 2\n        );\n        break;\n      case supportPositions.MIDDLE_RIGHT:\n        canvasCtx.drawImage(\n          image,\n          canvas.width - image.width - margin,\n          (canvas.height - image.height) / 2\n        );\n        break;\n      case supportPositions.BOTTOM_LEFT:\n        canvasCtx.drawImage(\n          image,\n          margin,\n          canvas.height - image.height - margin\n        );\n        break;\n      case supportPositions.BOTTOM_CENTER:\n        canvasCtx.drawImage(\n          image,\n          (canvas.width - image.width) / 2,\n          canvas.height - image.height - margin\n        );\n        break;\n      case supportPositions.BOTTOM_RIGHT:\n        canvasCtx.drawImage(\n          image,\n          canvas.width - image.width - margin,\n          canvas.height - image.height - margin\n        );\n        break;\n      case supportPositions.MOSAIC_FIT: {\n        // margin is not collapsed !!!\n        const countCols = Math.floor(\n          (canvas.width - margin) / (image.width + margin)\n        );\n        const countRows = Math.floor(\n          (canvas.height - margin) / (image.height + margin)\n        );\n        const spaceBetweenCols =\n          (canvas.width - image.width * countCols) / (countCols + 1);\n        const spaceBetweenRows =\n          (canvas.height - image.height * countRows) / (countRows + 1);\n        for (let i = 0; i < countCols; i++) {\n          for (let i2 = 0; i2 < countRows; i2++) {\n            const x = spaceBetweenCols + i * (spaceBetweenCols + image.width);\n            const y = spaceBetweenRows + i2 * (spaceBetweenRows + image.height);\n            canvasCtx.drawImage(image, x, y);\n          }\n        }\n        break;\n      }\n    }\n\n    return canvas;\n  }\n}\n","import FilterInterface, {FilterMap} from './FilterInterface';\n\nexport default abstract class AbstractFilter implements FilterInterface {\n  abstract readonly name: string = '';\n\n  abstract run(canvas: OffscreenCanvas): Promise<OffscreenCanvas>;\n  getPropertyMap(): FilterMap {\n    return Object.assign({}, this) as FilterMap;\n  }\n\n  setPropertyMap(map: FilterMap): FilterInterface {\n    return Object.assign(this, map);\n  }\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport default class ContrastFilter extends AbstractFilter {\n  readonly name: string = 'contrast';\n  level = 100;\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const newCanvas = new OffscreenCanvas(canvas.width, canvas.height);\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n\n    newCanvasCtx.filter = `contrast(${this.level * 0.01})`;\n    newCanvasCtx.drawImage(canvas, 0, 0);\n    newCanvasCtx.filter = '';\n    return newCanvas;\n  }\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport default class ResizeFilter extends AbstractFilter {\n  readonly name: string = 'resize';\n  width = 0;\n  height = 0;\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const x = this.width;\n    const y = this.height;\n    const deltaX = x / canvas.width;\n    const deltaY = y / canvas.height;\n    let newHeight = y;\n    let newWidth = x;\n\n    if (x === 0 && y === 0) {\n      return canvas;\n    } else if (x === 0) {\n      newWidth = deltaY * canvas.width;\n    } else if (y === 0) {\n      newHeight = deltaX * canvas.height;\n    }\n\n    const newCanvas = new OffscreenCanvas(newWidth, newHeight);\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n    /*BUG -- getContext can return NULL; */\n    newCanvasCtx.drawImage(\n      canvas,\n      0,\n      0,\n      canvas.width,\n      canvas.height,\n      0,\n      0,\n      newWidth,\n      newHeight\n    );\n\n    return newCanvas;\n  }\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport default class GrayscaleFilter extends AbstractFilter {\n  readonly name: string = 'grayscale';\n  level = 100;\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const newCanvas = new OffscreenCanvas(canvas.width, canvas.height);\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n\n    newCanvasCtx.filter = `grayscale(${this.level * 0.01})`;\n    newCanvasCtx.drawImage(canvas, 0, 0);\n    newCanvasCtx.filter = '';\n    return newCanvas;\n  }\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport default class OpacityFilter extends AbstractFilter {\n  readonly name: string = 'opacity';\n  level = 100;\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const newCanvas = new OffscreenCanvas(canvas.width, canvas.height);\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n\n    newCanvasCtx.filter = `opacity(${this.level * 0.01})`;\n    newCanvasCtx.drawImage(canvas, 0, 0);\n    newCanvasCtx.filter = '';\n    return newCanvas;\n  }\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport default class SaturateFilter extends AbstractFilter {\n  readonly name: string = 'saturate';\n  level = 100;\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const newCanvas = new OffscreenCanvas(canvas.width, canvas.height);\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n\n    newCanvasCtx.filter = `saturate(${this.level * 0.01})`;\n    newCanvasCtx.drawImage(canvas, 0, 0);\n    newCanvasCtx.filter = '';\n    return newCanvas;\n  }\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport default class BlurFilter extends AbstractFilter {\n  readonly name: string = 'blur';\n  level = 0;\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const newCanvas = new OffscreenCanvas(canvas.width, canvas.height);\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n\n    newCanvasCtx.filter = `blur(${this.level}px)`;\n    newCanvasCtx.drawImage(canvas, 0, 0);\n    newCanvasCtx.filter = '';\n    return newCanvas;\n  }\n}\n","export default async function FileToCanvas(\n  file: File\n): Promise<OffscreenCanvas> {\n  const url = window.URL.createObjectURL(file);\n  const img = new Image();\n  img.src = url;\n  await img.decode();\n  const width = img.width;\n  const height = img.height;\n  const canvas = new OffscreenCanvas(width, height);\n\n  /*BUG -- getContext can return NULL; */\n  const canvasCtx = canvas.getContext('2d');\n  if (canvasCtx === null) throw new Error('unable to create canvas context');\n  canvasCtx.drawImage(img, 0, 0);\n  window.URL.revokeObjectURL(url);\n\n  return canvas;\n}\n","import AbstractFilter from './AbstractFilter';\n\nexport enum supportPositions {\n  TOP_LEFT,\n  TOP_CENTER,\n  TOP_RIGHT,\n  MIDDLE_LEFT,\n  MIDDLE_CENTER,\n  MIDDLE_RIGHT,\n  BOTTOM_LEFT,\n  BOTTOM_CENTER,\n  BOTTOM_RIGHT,\n}\n\nexport enum supportModes {\n  SIZES,\n  RATIO,\n}\n\nexport default class CropFilter extends AbstractFilter {\n  readonly name: string = 'crop';\n  position: supportPositions = 0; // Позиционирование\n  width = 1;\n  height = 1;\n  mode: supportModes = supportModes.SIZES;\n\n  protected cropByRatio(\n    canvasCtx: OffscreenCanvasRenderingContext2D,\n    width: number,\n    height: number,\n    position: supportPositions\n  ): OffscreenCanvasRenderingContext2D {\n    const delta = width / height;\n    const canvasWidth = canvasCtx.canvas.width;\n    const canvasHeight = canvasCtx.canvas.height;\n    const deltaMin = Math.min(canvasWidth / width, canvasHeight / height);\n    const newCanvasWidth = width * deltaMin;\n    const newCanvasHeight = height * deltaMin;\n\n    return this.cropBySize(\n      canvasCtx,\n      newCanvasWidth,\n      newCanvasHeight,\n      position\n    );\n  }\n\n  protected cropBySize(\n    canvasCtx: OffscreenCanvasRenderingContext2D,\n    width: number,\n    height: number,\n    position: supportPositions\n  ): OffscreenCanvasRenderingContext2D {\n    const newCanvas = new OffscreenCanvas(width, height);\n    const oldCanvas = canvasCtx.canvas;\n    const newCanvasCtx = newCanvas.getContext('2d');\n    if (newCanvasCtx === null)\n      throw new Error('unable to create canvas context');\n\n    const sL = 0;\n    const dL = 0;\n    const sC = Math.max((oldCanvas.width - width) / 2, 0);\n    const dC = Math.max((width - oldCanvas.width) / 2, 0);\n    const sR = Math.max(oldCanvas.width - width, 0);\n    const dR = Math.max(width - oldCanvas.width, 0);\n    const sT = 0;\n    const dT = 0;\n    const sM = Math.max((oldCanvas.height - height) / 2, 0);\n    const dM = Math.max((height - oldCanvas.height) / 2, 0);\n    const sB = Math.max(oldCanvas.height - height, 0);\n    const dB = Math.max(height - oldCanvas.height, 0);\n    const sW = Math.min(oldCanvas.width, width);\n    const sH = Math.min(oldCanvas.height, height);\n    const dW = sW;\n    const dH = sH;\n\n    switch (this.position) {\n      case supportPositions.TOP_LEFT:\n        newCanvasCtx.drawImage(oldCanvas, sL, sT, sW, sH, dL, dT, dW, dH);\n        break;\n      case supportPositions.TOP_CENTER:\n        newCanvasCtx.drawImage(oldCanvas, sC, sT, sW, sH, dC, dT, dW, dH);\n        break;\n      case supportPositions.TOP_RIGHT:\n        newCanvasCtx.drawImage(oldCanvas, sR, sT, sW, sH, dR, dT, dW, dH);\n        break;\n      case supportPositions.MIDDLE_LEFT:\n        newCanvasCtx.drawImage(oldCanvas, sL, sM, sW, sH, dL, dM, dW, dH);\n        break;\n      case supportPositions.MIDDLE_CENTER:\n        newCanvasCtx.drawImage(oldCanvas, sC, sM, sW, sH, dC, dM, dW, dH);\n        break;\n      case supportPositions.MIDDLE_RIGHT:\n        newCanvasCtx.drawImage(oldCanvas, sR, sM, sW, sH, dR, dM, dW, dH);\n        break;\n      case supportPositions.BOTTOM_LEFT:\n        newCanvasCtx.drawImage(oldCanvas, sL, sB, sW, sH, dL, dB, dW, dH);\n        break;\n      case supportPositions.BOTTOM_CENTER:\n        newCanvasCtx.drawImage(oldCanvas, sC, sB, sW, sH, dC, dB, dW, dH);\n        break;\n      case supportPositions.BOTTOM_RIGHT:\n        newCanvasCtx.drawImage(oldCanvas, sR, sB, sW, sH, dR, dB, dW, dH);\n        break;\n    }\n    return newCanvasCtx;\n  }\n\n  async run(canvas: OffscreenCanvas): Promise<OffscreenCanvas> {\n    const canvasCtx = canvas.getContext('2d');\n    if (canvasCtx === null) throw new Error('unable to create canvas context');\n\n    switch (this.mode) {\n      case supportModes.RATIO:\n        return this.cropByRatio(\n          canvasCtx,\n          this.width,\n          this.height,\n          this.position\n        ).canvas;\n      case supportModes.SIZES:\n        return this.cropBySize(\n          canvasCtx,\n          this.width,\n          this.height,\n          this.position\n        ).canvas;\n      default:\n        throw new Error('unsupport mode');\n    }\n  }\n}\n","import ContrastFilter from './ContrastFilter';\nimport ResizeFilter from './ResizeFilter';\nimport GrayscaleFilter from './GrayscaleFilter';\nimport OpacityFilter from './OpacityFilter';\nimport SaturateFilter from './SaturateFilter';\nimport BlurFilter from './BlurFilter';\nimport OverlayFilter from './OverlayFilter';\nimport CropFilter from './CropFilter';\n\nconst SUPPORT_FILTERS = [\n  ContrastFilter,\n  ResizeFilter,\n  GrayscaleFilter,\n  OpacityFilter,\n  SaturateFilter,\n  BlurFilter,\n  OverlayFilter,\n  CropFilter,\n];\n\nexport default SUPPORT_FILTERS;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{staticClass:\"m-0\",attrs:{\"description\":\"Если ширина или высота равна 0, то параметр расчитывается автоматически\",\"label\":\"Новый размер\"}},[_c('b-input-group',[_c('b-input-group-text',[_vm._v(\" X: \")]),_c('b-form-input',{attrs:{\"value\":_vm.width,\"type\":\"number\",\"min\":\"0\",\"step\":\"1\"},on:{\"input\":_vm.updateWidth}}),_c('b-input-group-text',[_vm._v(\" Y: \")]),_c('b-form-input',{attrs:{\"value\":_vm.height,\"type\":\"number\",\"min\":\"0\",\"step\":\"1\"},on:{\"input\":_vm.updateHeight}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class SequenceId {\n  protected static currentKey = 0;\n\n  static getNew(prefix = ''): string {\n    return prefix + ++this.currentKey;\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['width', 'height'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n    };\n  },\n  methods: {\n    updateWidth: function(value: string) {\n      this.$emit('update:width', Number(value));\n    },\n    updateHeight: function(value: string) {\n      this.$emit('update:height', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResizeFilter.vue?vue&type=template&id=c2d98e82&\"\nimport script from \"./ResizeFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResizeFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{staticClass:\"m-0\",attrs:{\"description\":\"Укажите уровень контрастности в %\",\"label-for\":(\"input-\" + _vm.componentID)}},[_c('b-form-input',{attrs:{\"value\":_vm.level,\"id\":(\"input-\" + _vm.componentID),\"type\":\"number\",\"min\":\"0\",\"step\":\"0.1\"},on:{\"input\":_vm.updateLevel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['level'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n    };\n  },\n  methods: {\n    updateLevel: function(value: string) {\n      this.$emit('update:level', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContrastFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContrastFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContrastFilter.vue?vue&type=template&id=028e0826&\"\nimport script from \"./ContrastFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContrastFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{staticClass:\"m-0\",attrs:{\"description\":(\"Уровень обесцвечивания: \" + _vm.level + \"%\"),\"label-for\":(\"input-\" + _vm.componentID)}},[_c('b-form-input',{attrs:{\"value\":_vm.level,\"id\":(\"input-\" + _vm.componentID),\"type\":\"range\",\"min\":\"0\",\"max\":\"100\",\"step\":\"0.1\"},on:{\"input\":_vm.updateLevel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['level'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n    };\n  },\n  methods: {\n    updateLevel: function(value: string) {\n      this.$emit('update:level', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GrayscaleFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GrayscaleFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GrayscaleFilter.vue?vue&type=template&id=00c0fd92&\"\nimport script from \"./GrayscaleFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./GrayscaleFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{staticClass:\"m-0\",attrs:{\"description\":(\"Уровень прозрачности: \" + _vm.level + \"%\"),\"label-for\":(\"input-\" + _vm.componentID)}},[_c('b-form-input',{attrs:{\"value\":_vm.level,\"id\":(\"input-\" + _vm.componentID),\"type\":\"range\",\"min\":\"0\",\"max\":\"100\",\"step\":\"0.1\"},on:{\"input\":_vm.updateLevel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['level'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n    };\n  },\n  methods: {\n    updateLevel: function(value: string) {\n      this.$emit('update:level', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpacityFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpacityFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OpacityFilter.vue?vue&type=template&id=e561eb1e&\"\nimport script from \"./OpacityFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./OpacityFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{staticClass:\"m-0\",attrs:{\"description\":(\"Уровень насыщенности: \" + _vm.level + \"%\"),\"label-for\":(\"input-\" + _vm.componentID)}},[_c('b-form-input',{attrs:{\"value\":_vm.level,\"id\":(\"input-\" + _vm.componentID),\"type\":\"range\",\"min\":\"0\",\"max\":\"200\",\"step\":\"0.1\"},on:{\"input\":_vm.updateLevel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['level'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n    };\n  },\n  methods: {\n    updateLevel: function(value: string) {\n      this.$emit('update:level', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaturateFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaturateFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaturateFilter.vue?vue&type=template&id=4e75bca7&\"\nimport script from \"./SaturateFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaturateFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{staticClass:\"m-0\",attrs:{\"description\":\"Укажите уровень размытия\",\"label-for\":(\"input-\" + _vm.componentID)}},[_c('b-form-input',{attrs:{\"value\":_vm.level,\"id\":(\"input-\" + _vm.componentID),\"type\":\"number\",\"min\":\"0\",\"max\":\"100\",\"step\":\"0.1\"},on:{\"input\":_vm.updateLevel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['level'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n    };\n  },\n  methods: {\n    updateLevel: function(value: string) {\n      this.$emit('update:level', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlurFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlurFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlurFilter.vue?vue&type=template&id=7cefa356&\"\nimport script from \"./BlurFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlurFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{attrs:{\"label\":\"Накладываемое изображение\",\"label-for\":(\"input-image-\" + _vm.componentID)}},[_c('b-form-file',{attrs:{\"id\":(\"input-image-\" + _vm.componentID),\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\"},on:{\"input\":_vm.updateImage}})],1),_c('b-form-group',{attrs:{\"label\":\"Позиционирование\",\"label-for\":(\"input-position-\" + _vm.componentID)}},[_c('b-form-select',{attrs:{\"value\":_vm.position,\"options\":_vm.supportPositions,\"label-for\":(\"input-position-\" + _vm.componentID),\"size\":\"sm\"},on:{\"input\":_vm.updatePosition}})],1),_c('b-form-group',{attrs:{\"label\":\"Отступ\",\"label-for\":(\"input-margin-\" + _vm.componentID)}},[_c('b-form-input',{attrs:{\"label-for\":(\"input-margin-\" + _vm.componentID),\"value\":_vm.margin,\"type\":\"number\",\"step\":\"1\"},on:{\"input\":_vm.updateMargin}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {supportPositions} from '../filters/OverlayFilter';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['position', 'margin'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n      supportPositions: Object.entries(supportPositions)\n        .filter(([position]) => isNaN(Number(position)))\n        .map(([position, index]) => {\n          return {text: position, value: index};\n        }),\n    };\n  },\n  methods: {\n    updateImage: function(value: File) {\n      this.$emit('update:image', value);\n    },\n    updatePosition: function(value: string) {\n      this.$emit('update:position', value);\n    },\n    updateMargin: function(value: string) {\n      this.$emit('update:margin', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverlayFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverlayFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverlayFilter.vue?vue&type=template&id=60be97da&\"\nimport script from \"./OverlayFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverlayFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('b-form-group',{attrs:{\"label\":\"Режим кадрирования\",\"label-for\":(\"input-mode-\" + _vm.componentID)}},[_c('b-form-select',{staticClass:\"mt-3\",attrs:{\"id\":(\"input-mode-\" + _vm.componentID),\"value\":_vm.mode,\"options\":_vm.supportModes,\"size\":\"sm\"},on:{\"change\":_vm.updateMode}})],1),_c('b-form-group',{attrs:{\"label\":\"Позиционирование\",\"label-for\":(\"input-position-\" + _vm.componentID)}},[_c('b-form-select',{staticClass:\"mt-3\",attrs:{\"id\":(\"input-position-\" + _vm.componentID),\"value\":_vm.position,\"options\":_vm.supportPositions,\"size\":\"sm\"},on:{\"input\":_vm.updatePosition}})],1),_c('b-form-group',{attrs:{\"label\":\"Размеры\",\"label-for\":(\"input-position-\" + _vm.componentID)}},[_c('b-input-group',[_c('b-input-group-text',[_vm._v(\" X: \")]),_c('b-form-input',{attrs:{\"value\":_vm.width,\"type\":\"number\",\"step\":\"1\"},on:{\"input\":_vm.updateWidth}}),_c('b-input-group-text',[_vm._v(\" Y: \")]),_c('b-form-input',{attrs:{\"value\":_vm.height,\"type\":\"number\",\"step\":\"1\"},on:{\"input\":_vm.updateHeight}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {supportPositions, supportModes} from '../filters/CropFilter';\nimport SequenceId from '@/utils/SequenceId';\n\nexport default Vue.extend({\n  props: ['mode', 'position', 'width', 'height'],\n  data() {\n    return {\n      componentID: SequenceId.getNew(),\n      supportPositions: Object.entries(supportPositions)\n        .filter(([position]) => isNaN(Number(position)))\n        .map(([position, index]) => {\n          return {text: position, value: index};\n        }),\n      supportModes: Object.entries(supportModes)\n        .filter(([mode]) => isNaN(Number(mode)))\n        .map(([mode, index]) => {\n          return {text: mode, value: index};\n        }),\n    };\n  },\n  methods: {\n    updateMode(value: string) {\n      this.$emit('update:mode', value);\n    },\n    updatePosition(value: string) {\n      this.$emit('update:position', value);\n    },\n    updateWidth(value: string) {\n      this.$emit('update:width', Number(value));\n    },\n    updateHeight(value: string) {\n      this.$emit('update:height', Number(value));\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CropFilter.vue?vue&type=template&id=609ddf29&\"\nimport script from \"./CropFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./CropFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-undef */\n// eslint-disable-next-line node/no-extraneous-import\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\n\nimport Vue from 'vue';\nimport Vuex, {StoreOptions} from 'vuex';\nimport {BootstrapVue, BootstrapVueIcons} from 'bootstrap-vue';\nimport App from './App.vue';\nimport VueI18n from 'vue-i18n';\nimport FilterProcessor from './filters/FilterProcessor';\nimport SUPPORT_FILTERS from './filters/index';\nimport ResizeFilter from './components/ResizeFilter.vue';\nimport ContrastFilter from './components/ContrastFilter.vue';\nimport GrayscaleFilter from './components/GrayscaleFilter.vue';\nimport OpacityFilter from './components/OpacityFilter.vue';\nimport SaturateFilter from './components/SaturateFilter.vue';\nimport BlurFilter from './components/BlurFilter.vue';\nimport OverlayFilter from './components/OverlayFilter.vue';\nimport JSZip from 'jszip';\nimport FileSaver from 'file-saver';\nimport {FilterMap} from './filters/FilterInterface';\nimport CropFilter from './components/CropFilter.vue';\nimport ImageProcessor, {SupportMimesTypes} from './filters/ImageProcessor';\n\nconst tttt = 1;\nconsole.log(tttt);\n\nVue.config.productionTip = false;\nVue.use(VueI18n);\nVue.use(Vuex);\nVue.use(BootstrapVue);\nVue.use(BootstrapVueIcons);\n\nVue.component('ResizeFilter', ResizeFilter);\nVue.component('ContrastFilter', ContrastFilter);\nVue.component('GrayscaleFilter', GrayscaleFilter);\nVue.component('OpacityFilter', OpacityFilter);\nVue.component('SaturateFilter', SaturateFilter);\nVue.component('BlurFilter', BlurFilter);\nVue.component('OverlayFilter', OverlayFilter);\nVue.component('CropFilter', CropFilter);\n\nconst filterProcessor = new FilterProcessor();\nconst DEFAULT_LANG = 'en';\n\nSUPPORT_FILTERS.forEach(filter => {\n  filterProcessor.getFilterFactory().registerFilter(filter);\n});\n\nconst imageProcessor = new ImageProcessor(filterProcessor);\n\nconst i18n = new VueI18n({\n  locale: navigator.language.substr(0, 2).toLowerCase(), // set locale\n});\n\ninterface RootState {\n  lang: string;\n  registeredFilters: Array<string>;\n  filterMaps: Array<FilterMap>;\n  fileList: Array<File>;\n  showFileIndex: number | null;\n  quality: number;\n  type: SupportMimesTypes | null;\n  nameTransformPattern: string;\n}\n\nconst initStore: StoreOptions<RootState> = {\n  state() {\n    const imageProcessor = new ImageProcessor(filterProcessor);\n    return {\n      lang: DEFAULT_LANG as string, // see ISO 639-1\n      registeredFilters: filterProcessor\n        .getFilterFactory()\n        .getFilterCollection()\n        .map(filter => new filter().name),\n      filterMaps: [],\n      fileList: [],\n      showFileIndex: null,\n      quality: imageProcessor.getQuality(),\n      type: imageProcessor.getType(),\n      nameTransformPattern: imageProcessor.getNameTransformPattern(),\n    };\n  },\n  mutations: {\n    setLang(state, lang: string = DEFAULT_LANG) {\n      state.lang = lang;\n      i18n.locale = lang;\n    },\n    removeFilter(state, index: number) {\n      state.filterMaps.splice(index, 1);\n    },\n    setFilter(state, filter: FilterMap) {\n      state.filterMaps.push(filter);\n    },\n    setFile(state, file: File) {\n      state.fileList.push(file);\n    },\n    commitDeleteFile(state, index: number) {\n      state.fileList.splice(index, 1);\n      return true;\n    },\n    commitSetType(state, type: SupportMimesTypes) {\n      state.type = type;\n    },\n    commitSetQuality(state, quality: number) {\n      state.quality = quality;\n    },\n    commitSetNameTransformPattern(state, pattern: string) {\n      state.nameTransformPattern = pattern;\n    },\n    showFile(state, index: number | null) {\n      state.showFileIndex = index;\n    },\n  },\n  actions: {\n    async setType(store, type: SupportMimesTypes) {\n      store.commit('commitSetType', type);\n    },\n    async setQuality(store, quality: number) {\n      store.commit('commitSetQuality', quality);\n    },\n    async setNameTransformPattern(store, pattern: string) {\n      store.commit('commitSetNameTransformPattern', pattern);\n    },\n    initFilter(store, name: string) {\n      const filter = filterProcessor.getFilterFactory().findFilter(name);\n      if (!filter) return false;\n      store.commit('setFilter', new filter().getPropertyMap());\n    },\n    runFilterProcessor(store) {\n      return filterProcessor.run(\n        store.getters.fileList,\n        store.getters.filterMaps\n      );\n    },\n    async deleteFile(store, index: number) {\n      if (store.state.fileList[index] === undefined) return false;\n      store.commit('commitDeleteFile', index);\n      if (store.state.fileList.length === 0) {\n        this.commit('showFile', null);\n      } else if (index >= store.state.fileList.length) {\n        this.commit('showFile', index - 1);\n      }\n    },\n    async runFilterProcessorForOne(store, index) {\n      const file = store.getters.fileList[index];\n      if (!file) return null;\n      const imageProcessor = new ImageProcessor(filterProcessor);\n      imageProcessor.setQuality(store.state.quality);\n      imageProcessor.setType(store.state.type);\n      imageProcessor.setNameTransformPattern(store.state.nameTransformPattern);\n      imageProcessor.setFilterMaps(store.getters.filterMaps);\n      return await imageProcessor.run(file);\n    },\n    async downloadAll(store, method = 'common') {\n      //var zip = new JSZip();\n      const imageProcessor = new ImageProcessor(filterProcessor);\n      imageProcessor.setQuality(store.state.quality);\n      imageProcessor.setType(store.state.type);\n      imageProcessor.setNameTransformPattern(store.state.nameTransformPattern);\n      imageProcessor.setFilterMaps(store.getters.filterMaps);\n\n      if (method === 'common') {\n        await Promise.all(\n          store.getters.fileList.map(async (file: File) => {\n            const blob = await imageProcessor.run(file);\n            FileSaver.saveAs(blob, blob.name);\n          })\n        );\n        return true;\n      } else if (method === 'zip') {\n        const zip = new JSZip();\n        for (const file of store.getters.fileList) {\n          const blob = await imageProcessor.run(file);\n          zip.file(blob.name, blob);\n        }\n        const zipFile = await zip.generateAsync({type: 'blob'});\n        FileSaver.saveAs(zipFile, 'PhotoBatch-' + Date.now());\n      }\n    },\n  },\n  getters: {\n    filterMaps: state => {\n      return state.filterMaps;\n    },\n    fileList: state => {\n      return state.fileList;\n    },\n  },\n};\n\nconst store = new Vuex.Store(initStore);\n\nnew Vue({\n  i18n,\n  store,\n  render: h => h(App),\n}).$mount('#app');\n\n// ---- INIT ---\nstore.commit('setLang', navigator.language.substr(0, 2).toLowerCase());\n","import mod from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FPreviewCanvas.vue\"; export default mod; export * from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FPreviewCanvas.vue\"","import mod from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FAppendFile.vue\"; export default mod; export * from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./locales.json?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fhome%2Frunner%2Fwork%2Fphotobatch%2Fphotobatch%2Fsrc%2Fcomponents%2FAppendFile.vue\"","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"hello\":\"Photo batch\",\"chooselang\":\"Choose lang\",\"helper.tooltip.draggable\":\"Drag to change the order of actions\",\"helper.tooltip.uploadfile.placeholder\":\"Choose a file or drop it here...\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Drop file here...\",\"helper.tooltip.uploadfile.description\":\"Press button or drop files here for upload. Scalable images will be rasterized\",\"button.addeventhandler\":\"Add filter\",\"button.event.download\":\"Download\",\"preview.button.viewselector.originalview\":\"Source image\",\"preview.button.viewselector.resultview\":\"Result image\",\"filter.contrast.name\":\"Contrast\",\"filter.resize.name\":\"Resize\",\"filter.convert.name\":\"Convert\",\"filter.grayscale.name\":\"Grayscale\",\"filter.opacity.name\":\"Opacity\",\"filter.saturate.name\":\"Saturate\",\"filter.blur.name\":\"Blur\",\"filter.overlay.name\":\"Overlay\",\"filter.crop.name\":\"Crop\",\"helper.tooltip.uploadfile.browsebutton\":\"Browse\"},\"ru\":{\"hello\":\"Фото обработчик\",\"chooselang\":\"Выбрать язык\",\"helper.tooltip.draggable\":\"Зажмите и перетаскивайте для изменения порядка действий\",\"helper.tooltip.uploadfile.placeholder\":\"Загрузить изображения\",\"helper.tooltip.uploadfile.dropplaceholder\":\"Загрузить сюда...\",\"helper.tooltip.uploadfile.description\":\"Нажмите или перенесите изображения сюда для их загрузки. Векторные svg изображения будут растеризованы\",\"button.addeventhandler\":\"Добавить фильтр\",\"button.event.download\":\"Скачать результат\",\"preview.button.viewselector.originalview\":\"Исходное изображение\",\"preview.button.viewselector.resultview\":\"Конечное изображение\",\"filter.contrast.name\":\"Контраст\",\"filter.resize.name\":\"Размер\",\"filter.convert.name\":\"Формат\",\"filter.grayscale.name\":\"Обесцвечивание\",\"filter.opacity.name\":\"Прозрачность\",\"filter.saturate.name\":\"Насыщенность\",\"filter.blur.name\":\"Размытие\",\"filter.overlay.name\":\"Наложение\",\"filter.crop.name\":\"Кадрирование\",\"helper.tooltip.uploadfile.browsebutton\":\"Загрузка\"}}')\n  delete Component.options._Ctor\n}\n"],"sourceRoot":""}